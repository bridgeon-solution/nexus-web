<div class="main min-w-[670px] px-7 py-7 text-center">
    <p *ngIf="data.option === ''">Create New Employee</p>
    <p *ngIf="data.option === 'edit employee'">Edit Employee</p>
    <form action="" #addEmployeeForm="ngForm">
        <div class="mt-1 flex flex-col justify-between text-start">
            <input type="text" ngModel name="fullname" required
                class="bg-gray-300 h-14 focus:outline-gray-500 rounded-sm ps-5" placeholder="Firstname"
                #fullname="ngModel">
            <span *ngIf="!fullname.untouched && !fullname.valid" class="text-xs font-medium text-red-700">*Name is
                required</span>
        </div>
        <div class="mt-2 flex flex-col justify-between text-start">
            <input ngModel name="salary" required type="text"
                class="bg-gray-300 w-full h-14 focus:outline-gray-500 rounded-sm ps-5" placeholder="Salary"
                #salary="ngModel">
            <span *ngIf="!salary.untouched && !salary.valid" class="text-xs font-medium text-red-700">*Salary is
                required</span>
        </div>

        <div class=" flex mt-3">
            <div class="flex-1 me-5">
                <div class="mt-3 w-full flex flex-col justify-between text-start">
                    <input type="email" ngModel name="email" required
                        class="bg-gray-300 w-full h-14 focus:outline-gray-500 rounded-sm ps-5" placeholder="Email"
                        #email="ngModel">
                    <span *ngIf="!email.untouched && !email.valid" class="text-xs font-medium text-red-700">*Email
                        is
                        required</span>
                </div>

                <div class="relative inline-block w-full max-w-sm mt-2">
                    <button
                        class="w-full rounded-md border bg-gray-300 border-gray-900 shadow-sm px-3 py-4 text-left focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
                        aria-haspopup="listbox" aria-expanded="true" aria-labelledby="listbox-label"
                        (click)="toggleDropdown('department')">
                        <span class="block truncate text-gray-700">{{departmentOption}}</span>
                        <span class="absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none">
                            <svg width="50px" height="50px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"
                                fill="#545454">
                                <g id="SVGRepo_bgCarrier" stroke-width="0" />
                                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" />
                                <g id="SVGRepo_iconCarrier">
                                    <rect x="0" fill="none" width="24" height="24" />
                                    <g>
                                        <path d="M7 10l5 5 5-5" />
                                    </g>
                                </g>
                            </svg>
                        </span>
                    </button>

                    <ul class="absolute z-10 mt-1 w-full bg-white shadow-lg max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm"
                        tabindex="-1" role="listbox" aria-labelledby="listbox-label"
                        aria-activedescendant="listbox-option-3" *ngIf="departmentDropDown">
                        <li *ngFor="let option of departments"
                            class="text-gray-700 cursor-pointer select-none relative py-2 pl-3 pr-9 hover:bg-gray-200 "
                            id="listbox-option-0" role="option"
                            (click)="selectOption(option.name,'department', option.id)">
                            <span class="block truncate">{{ option.name }}</span>
                            <span *ngIf="option.name === departmentOption"
                                class="absolute inset-y-0 right-0 flex items-center pr-4 text-indigo-900">
                                <svg class="mt-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 90 90" width="50px"
                                    height="50px" baseProfile="basic">
                                    <polygon fill="#44b356"
                                        points="15,40.011 2,17.496 12,11.718 20,25.578 43,12.298 48,20.964" />
                                    <polygon fill="#61ff7b"
                                        points="44,23.272 39,14.608 16,27.887 8,14.03 2,17.494 15,40.015" />
                                </svg>
                            </span>
                        </li>
                    </ul>
                </div>

                <div class="relative inline-block w-full max-w-sm mt-2">
                    <button
                        class="w-full rounded-md border bg-gray-300 border-gray-900 shadow-sm px-3 py-4 text-left focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
                        aria-haspopup="listbox" aria-expanded="true" aria-labelledby="listbox-label"
                        (click)="toggleDropdown('role')">
                        <span class="block truncate text-gray-700">{{ roleOption }}</span>
                        <span class="absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none">
                            <svg width="50px" height="50px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"
                                fill="#545454">
                                <g id="SVGRepo_bgCarrier" stroke-width="0" />
                                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" />
                                <g id="SVGRepo_iconCarrier">
                                    <rect x="0" fill="none" width="24" height="24" />
                                    <g>
                                        <path d="M7 10l5 5 5-5" />
                                    </g>
                                </g>
                            </svg>
                        </span>
                    </button>

                    <ul class="absolute z-10 mt-1 w-full bg-white shadow-lg max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm"
                        tabindex="-1" role="listbox" aria-labelledby="listbox-label"
                        aria-activedescendant="listbox-option-3" *ngIf="roleDropDown">
                        <li *ngFor="let option of roles"
                            class="text-gray-700 cursor-default select-none relative py-2 pl-3 pr-9 hover:bg-gray-100"
                            id="listbox-option-0" role="option" (click)="selectOption(option, 'role')">
                            <span class="block truncate">{{ option }}</span>
                            <span *ngIf="option === roleOption"
                                class="absolute inset-y-0 right-0 flex items-center pr-4 text-indigo-900">
                                <svg class="mt-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 90 90" width="50px"
                                    height="50px" baseProfile="basic">
                                    <polygon fill="#44b356"
                                        points="15,40.011 2,17.496 12,11.718 20,25.578 43,12.298 48,20.964" />
                                    <polygon fill="#61ff7b"
                                        points="44,23.272 39,14.608 16,27.887 8,14.03 2,17.494 15,40.015" />
                                </svg>
                            </span>
                        </li>
                    </ul>
                </div>

            </div>
            <div class="flex-1">

                <div class="relative inline-block w-full max-w-sm mt-2">
                    <button
                        class="w-full rounded-md border bg-gray-300 border-gray-900 shadow-sm px-3 py-4 text-left focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"
                        aria-haspopup="listbox" aria-expanded="true" aria-labelledby="listbox-label"
                        (click)="toggleDropdown('gender')">
                        <span class="block truncate text-gray-700">{{genderOption}}</span>
                        <span class="absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none">
                            <svg width="50px" height="50px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"
                                fill="#545454">
                                <g id="SVGRepo_bgCarrier" stroke-width="0" />
                                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" />
                                <g id="SVGRepo_iconCarrier">
                                    <rect x="0" fill="none" width="24" height="24" />
                                    <g>
                                        <path d="M7 10l5 5 5-5" />
                                    </g>
                                </g>
                            </svg>
                        </span>
                    </button>

                    <ul class="absolute z-10 mt-1 w-full bg-white shadow-lg max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm"
                        tabindex="-1" role="listbox" aria-labelledby="listbox-label"
                        aria-activedescendant="listbox-option-3" *ngIf="genderDropdown">
                        <li *ngFor="let option of gender"
                            class="text-gray-700 cursor-pointer select-none relative py-2 pl-3 pr-9 hover:bg-gray-200 "
                            id="listbox-option-0" role="option" (click)="selectOption(option,'gender')">
                            <span class="block truncate">{{ option }}</span>
                        </li>
                    </ul>
                </div>

                <div class="mt-2 w-full flex flex-col justify-between text-start">
                    <input type="text" class="bg-gray-300 w-full h-14 focus:outline-gray-500 rounded-sm ps-5"
                        placeholder="Designation" name="designation" ngModel required #designation="ngModel">
                    <span *ngIf="!designation.untouched && !designation.valid"
                        class="text-xs font-medium text-red-700">*Designation
                        is
                        required</span>
                </div>

                <div class="mt-2 w-full flex flex-col justify-between text-start">
                    <input type="text" class="bg-gray-300 w-full h-14 focus:outline-gray-500 rounded-sm ps-5"
                        placeholder="Phone number" name="phone" ngModel required #phone="ngModel">
                    <span *ngIf="!phone.untouched && !phone.valid" class="text-xs font-medium text-red-700">*Phone
                        is
                        required</span>
                </div>
            </div>
        </div>

        <div class="mt-2 w-full flex flex-col justify-between text-start">
            <input type="date" class="bg-gray-300 w-full h-14 focus:outline-gray-500 rounded-sm ps-5"
                placeholder="Date of birth" name="birthdate" ngModel>
        </div>
        <div class="mt-2 w-full flex flex-col justify-between text-start">
            <input type="password" class="bg-gray-300 w-full h-14 focus:outline-gray-500 rounded-sm ps-5"
                placeholder="password" name="password" ngModel required #password="ngModel">
            <span *ngIf="!password.untouched && !password.valid" class="text-xs font-medium text-red-700">*Password is
                required</span>
        </div>
        <div class="w-full mt-4">
            <input type="file" id="file-upload" name="image" required ngModel (change)="selectFile($event)"
                class="w-full bg-gray-200 rounded-md border border-gray-300 focus:outline-none focus:ring-1 focus:ring-blue-500  px-3 py-2 text-sm shadow-sm cursor-pointer">
        </div>

    </form>

    <button *ngIf="data.option === '' " type="button" (click)="addOrEditEmployee()"
        class="text-white mt-4 bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-3xl text-sm px-20 py-3 shadow-sm">
        <span *ngIf="!loading">Add</span>
        <div *ngIf="loading" class="loading-text">Loading...</div>
    </button>

    <button *ngIf="data.option === 'edit employee' " [disabled]="addEmployeeForm.invalid" type="button"
        (click)="editEmployee()"
        class="text-white mt-4 bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-3xl text-sm px-20 py-3 shadow-sm">
        <span *ngIf="!loading">Submit</span>
        <div *ngIf="loading" class="loading-text">Loading...</div>
    </button>


</div>